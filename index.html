<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CollabCloud</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: Arial, sans-serif; }
    body { background: #f0f2f5; color: #000; transition: background 0.3s, color 0.3s; }
    body.dark { background: #1e1e1e; color: #fff; }
    header {
      background: #0078d4;
      color: white;
      padding: 10px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      width: 100vw;
      margin-left: calc(-1 * ((100vw - 100%) / 2));
    }
    .logo { display: flex; align-items: center; gap: 10px; }
    .profile-area { display: flex; align-items: center; gap: 10px; }
    .dark-toggle {
      font-size: 20px;
      background: white;
      border-radius: 50%;
      padding: 8px;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
    }
    .main { padding: 20px; max-width: 600px; margin: 20px auto; background: #fff; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); }
    .main.dark { background: #2b2b2b; }
    textarea, input[type="file"] { width: 100%; margin-top: 10px; padding: 10px; border-radius: 4px; border: 1px solid #ccc; }
    button.send-btn { background: #0078d4; color: white; border: none; padding: 10px 20px; margin-top: 10px; border-radius: 4px; cursor: pointer; }
    .media-preview img, .media-preview video { max-width: 100%; margin-top: 10px; border-radius: 4px; }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <img src="logo.png" alt="Logo" height="40" />
      <h1>CollabCloud</h1>
    </div>
    <div class="profile-area">
      <button class="dark-toggle" onclick="toggleDarkMode()">ðŸŒ“</button>
    </div>
  </header>
  <div class="main" id="main">
    <textarea id="message" placeholder="Type your message..."></textarea>
    <input type="file" id="mediaInput" accept="image/*,video/*">
    <button class="send-btn" onclick="sendMessage()">Send</button>
    <div class="media-preview" id="mediaPreview"></div>
  </div>
  <script>
    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      document.getElementById("main").classList.toggle("dark");
      localStorage.setItem("darkMode", document.body.classList.contains("dark") ? "1" : "0");
    }

    window.onload = () => {
      if (localStorage.getItem("darkMode") === "1") {
        document.body.classList.add("dark");
        document.getElementById("main").classList.add("dark");
      }
    };

    document.getElementById('mediaInput').addEventListener('change', function(e) {
      const file = e.target.files[0];
      const preview = document.getElementById('mediaPreview');
      preview.innerHTML = '';
      if (file) {
        const url = URL.createObjectURL(file);
        if (file.type.startsWith('image/')) {
          preview.innerHTML = `<img src="${url}" alt="Image Preview">`;
        } else if (file.type.startsWith('video/')) {
          preview.innerHTML = `<video controls><source src="${url}" type="${file.type}"></video>`;
        }
      }
    });

    function sendMessage() {
      const message = document.getElementById('message').value;
      alert(`Message: ${message}`);
      // Future: Add Firebase upload logic here
    }
  </script>
</body>
</html>
